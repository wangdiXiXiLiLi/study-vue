<template>
    <ul class="table-view" style="margin-bottom: 50px;">
        <li class="table-view-cell media" v-for="(hero,index) in heros" :class="{ 'islike':hero.islike }">
            <a class="navigate-right">
                <img class="media-object pull-left" :src="hero.face">
                <div class="media-body" @click="herohandle(hero)" >
                    {{ hero.name }}
                    <p> {{ hero.content }} </p>
                </div>
            </a>
        </li>
    </ul>

</template>

<script>

    import store from '@/vuex/store'
    import {mapMutations} from 'vuex'
    export default {
        name: 'TopBar',
        data () {
            return {
                heros: [
                    {
                        "face": "./static/images/cq3.png",
                        "name": "é­”æ³•å°‘å¥³æ˜Žæ—¥é¦™",
                        "content": "I didnâ€™t wanna late night text messages you a smile face saying goodbye ",
                        "islike": false
                    },
                    {
                        "face": "./static/images/cq11.png",
                        "name": "å°å¥³å­©",
                        "content": "I didnâ€™t wanna late night text messages you a smile face saying goodbye",
                        "islike": false
                    },
                    {
                        "face": "./static/images/cq7.png",
                        "name": "ç¨€ä¸–æ€ªç›—é²å°¼æ˜‚",
                        "content": "I didnâ€™t wanna late night text messages you a smile face saying goodbye",
                        "islike": false
                    },
                    {
                        "face": "./static/images/cq8.png",
                        "name": "åˆ›é€ è€…å®¾æ£®æ©",
                        "content": "I didnâ€™t wanna late night text messages you a smile face saying goodbye",
                        "islike": false
                    },
                    {
                        "face": "./static/images/cq9.png",
                        "name": "è’ç”µç‹‚é­”å¤å°”æ¢…",
                        "content": "I didnâ€™t wanna late night text messages you a smile face saying goodbye",
                        "islike": false
                    },
                    {
                        "face": "./static/images/cq15.png",
                        "name": "è†æ£˜é­”å¥³å¡”åˆ©äºš",
                        "content": "I didnâ€™t wanna late night text messages you a smile face saying goodbye",
                        "islike": false
                    },
                    {
                        "face": "./static/images/cq14.png",
                        "name": "äºŒå¤©ä¸€åªæµé¦™ç»‡",
                        "content": "I didnâ€™t wanna late night text messages you a smile face saying goodbye",
                        "islike": false
                    },
                    {
                        "face": "./static/images/cq12.png",
                        "name": "è§‰é†’çš„é›…è‚¯",
                        "content": "I didnâ€™t wanna late night text messages you a smile face saying goodbye",
                        "islike": false
                    }
                ]
            }
        },

        methods: {
            herohandle(hero){
                if (!hero.islike) {
                    var emoji = 'ðŸ˜';
                } else {
                    var emoji = 'ðŸ˜°';
                }

                layer.open({
                    anim: 'up'
                    , content: hero.name
                    , btn: [emoji, 'çœ‹æˆ‘ï½ž']
                    , yes: function (index) {
                        hero.islike = !hero.islike;
                        layer.close(index);

                    },no : ()=>{
                        this.heroinfo(hero)
                    }
                });
            },
            heroinfo(hero){
                this.changestate(hero)
                this.$router.push('/Hero/'+hero.name);
            },
            ...mapMutations([
                    'changestate'
                ]),
            },
        store
    }
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style>
    .media-object {
        width: 2rem;
        height: 2rem;
    }

    .islike {
        background-color: #DFF4F3;
        border: 1px solid #F7F7F7;
    }


</style>
